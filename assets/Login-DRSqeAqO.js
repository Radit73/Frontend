import{k as p,r as t,l as f,j as a,m as w,s as x}from"./index-_RlfeBLV.js";import{g as d}from"./theme-eDaETbEk.js";const v=()=>{const h=p(),[r,c]=t.useState(()=>d()),[s,u]=t.useState({email:"",password:""}),[n,o]=t.useState(!1),{addToast:i}=f();t.useEffect(()=>{const e=()=>c(d());return window.addEventListener("theme-changed",e),()=>window.removeEventListener("theme-changed",e)},[]),t.useEffect(()=>{const e=document.body;return e.classList.add("theme-page-auth"),r==="light"?e.classList.add("theme-light"):e.classList.remove("theme-light"),()=>{e.classList.remove("theme-page-auth"),e.classList.remove("theme-light")}},[r]);const m=e=>{u({...s,[e.target.name]:e.target.value})},g=async e=>{if(e.preventDefault(),!s.email||!s.password){i("Email dan password wajib diisi.","error");return}try{o(!0);const l=await w(s.email,s.password);x(l),i("Berhasil masuk. Selamat datang kembali!","success"),h("/")}catch(l){i(l.message||"Gagal masuk. Coba lagi.","error")}finally{o(!1)}};return a.jsx("div",{className:`page auth-page section ${r==="light"?"theme-light":""}`,children:a.jsxs("div",{className:"auth-card card",children:[a.jsx("h2",{children:"Masuk"}),a.jsx("p",{children:"Portal review game lokal terbaik ada di sini."}),a.jsxs("form",{className:"auth-form",onSubmit:g,children:[a.jsxs("label",{children:["Email",a.jsx("input",{type:"email",name:"email",placeholder:"email@contoh.com",value:s.email,onChange:m})]}),a.jsxs("label",{children:["Password",a.jsx("input",{type:"password",name:"password",placeholder:"••••••••",value:s.password,onChange:m})]}),a.jsx("button",{type:"submit",className:"btn-primary auth-btn",disabled:n,children:n?"Memproses...":"Masuk"})]}),a.jsxs("p",{className:"auth-switch",children:["Belum punya akun? ",a.jsx("a",{href:"/register",children:"Daftar"})]})]})})};export{v as default};
